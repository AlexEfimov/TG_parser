# =============================================================================
# TG_parser Configuration Example
# =============================================================================
# Скопируйте этот файл в .env и заполните своими значениями:
#   cp .env.example .env
#
# Все настройки опциональны кроме API ключей для реального использования.
# =============================================================================

# =============================================================================
# Telegram API (ОБЯЗАТЕЛЬНО для ingestion)
# =============================================================================
# Получите на https://my.telegram.org → API development tools

TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890
TELEGRAM_PHONE=+79001234567

# Имя файла сессии Telethon (по умолчанию: tg_parser_session)
# TELEGRAM_SESSION_NAME=tg_parser_session

# =============================================================================
# LLM настройки (ОБЯЗАТЕЛЬНО для processing/topicization)
# =============================================================================

# OpenAI API ключ (получите на https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic API ключ (опционально, для будущих интеграций)
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# Провайдер LLM (по умолчанию: openai)
# LLM_PROVIDER=openai

# Модель LLM (опционально, переопределение стандартной)
# LLM_MODEL=gpt-4o-mini

# URL для OpenAI-compatible прокси (опционально)
# LLM_BASE_URL=https://api.openai.com/v1

# =============================================================================
# SQLite пути (опционально)
# =============================================================================
# По умолчанию файлы создаются в корне проекта

# База состояния ingestion (источники, курсоры)
# INGESTION_STATE_DB_PATH=ingestion_state.sqlite

# База raw сообщений из Telegram
# RAW_STORAGE_DB_PATH=raw_storage.sqlite

# База обработанных документов, тем и ошибок
# PROCESSING_STORAGE_DB_PATH=processing_storage.sqlite

# =============================================================================
# LLM параметры (опционально)
# =============================================================================

# Температура LLM (0 = детерминизм, рекомендуется для воспроизводимости)
# LLM_TEMPERATURE=0.0

# Максимум токенов в ответе LLM
# LLM_MAX_TOKENS=4096

# =============================================================================
# Processing параметры (опционально)
# =============================================================================

# Максимум попыток обработки одного сообщения при ошибках
# PROCESSING_MAX_ATTEMPTS_PER_MESSAGE=3

# Базовое время backoff между попытками (секунды)
# PROCESSING_RETRY_BACKOFF_BASE=1.0

# Максимальный jitter для backoff (0.3 = до 30%)
# PROCESSING_RETRY_JITTER_MAX=0.3

# =============================================================================
# Ingestion параметры (опционально)
# =============================================================================

# Максимум попыток ingestion за один run
# INGESTION_MAX_ATTEMPTS_PER_RUN=5

# Базовое время backoff для ingestion (секунды)
# INGESTION_RETRY_BACKOFF_BASE=1.0

# Максимальный jitter для ingestion backoff
# INGESTION_RETRY_JITTER_MAX=0.3

# =============================================================================
# Topicization параметры (опционально)
# =============================================================================

# Число топ якорей для cluster-тем
# TOPICIZATION_TOP_N_ANCHORS=3

# Минимальная длина текста для singleton-темы (символов)
# TOPICIZATION_SINGLETON_MIN_LEN=300

# Минимальный score для singleton-темы
# TOPICIZATION_SINGLETON_MIN_SCORE=0.75

# Минимальный score для anchor в cluster-теме
# TOPICIZATION_CLUSTER_MIN_ANCHOR_SCORE=0.6

# Минимальный score для supporting элементов
# TOPICIZATION_SUPPORTING_MIN_SCORE=0.5

# =============================================================================
# Версии pipeline (для отслеживания, опционально)
# =============================================================================

# PIPELINE_VERSION_PROCESSING=processing:v1.0.0
# PIPELINE_VERSION_TOPICIZATION=topicization:v1.0.0
# EXPORT_VERSION=export:v1.0.0
