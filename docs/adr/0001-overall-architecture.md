# ADR 0001 – Общая архитектура TG_parser

## Статус
Proposed

## Контекст

Нужно спроектировать ветвь ingestion pipeline, которая:
- забирает сообщения из Telegram‑каналов;
- обрабатывает их с помощью ИИ;
- пополняет тематическую базу знаний.

## Решение

- Разделить систему на три основных слоя:
  - **Ingestion** – взаимодействие с Telegram и получение сырых сообщений.
  - **Processing** – очистка, нормализация и интеллектуальная обработка (LLM).
  - **Storage / Knowledge Base** – сохранение документов и индексов для последующего поиска.
- Между слоями обмениваться строго определёнными структурами:
  - `RawTelegramMessage` → `ProcessedDocument` → `KnowledgeBaseEntry`.
- Архитектура должна позволять:
  - добавлять новые источники (не только Telegram);
  - менять LLM/модели без изменения хранилища;
  - использовать разные типы баз знаний (SQL, векторные, комбинированные).

## Последствия

- Появляется чёткое разделение ответственности между модулями и агентами.
- Легче тестировать и развивать каждый слой независимо.
- Требуется поддерживать и версионировать контракты между слоями.


