# TG_parser — бизнес‑описание продукта

## 1. Проблема и контекст

Тематические Telegram‑каналы часто содержат актуальную экспертную информацию, но она:
- разрознена (сообщения по одной теме разнесены во времени);
- дополняется в комментариях, а не в основном посте;
- представлена в разных форматах (текст/видео/аудио и т. п.);
- «зашумлена» рекламой;
- плохо поддаётся поиску и аналитике из‑за ограничений встроенного поиска.

В результате использовать Telegram‑каналы как базу знаний сложно и дорого по времени.

## 2. Назначение и ценность TG_parser

TG_parser — система, которая **автоматически собирает** контент из Telegram‑каналов, **обрабатывает** его (с участием ИИ) и **превращает** в структурированную, упорядоченную базу знаний.

Примечание (MVP): на первом этапе “база знаний” предоставляется потребителям через **CLI‑экспорт файлов** (например `kb_entries.ndjson`, `topics.json`) — без HTTP API; это не ограничивает дальнейшее добавление API/сервисов.

Ценность:
- делает экспертную информацию **доступной для поиска и анализа**;
- переводит потребление контента из режима «ленты» в режим **«тем»**: пользователь получает подборку всех материалов по теме (включая важные комментарии), даже если они опубликованы в разное время;
- делает практическим извлечение знаний из каналов в условиях, когда ручной просмотр ленты и обработка всего массива контента нецелесообразны;
- даёт основу для использования информации **человеком и ИИ‑агентами**.

## 3. Целевая аудитория

- **Аналитики и исследователи**, использующие Telegram‑каналы как источник данных.
- **Владельцы/кураторы баз знаний**, которым важны структура, актуальность и управляемость.
- **Разработчики**, строящие поверх баз знаний ассистентов/ботов/сервисы.

## 4. Основные сценарии использования (high‑level)

- Подключение одного или нескольких Telegram‑каналов как источников.
- Историческая загрузка (backfill) и регулярное обновление по мере появления новых сообщений.
- Группировка информации по обсуждаемым **темам** (два режима):
  - **темы известны заранее** (заданы заказчиком/пользователем) — собрать «всё по теме X» по всему каналу;
  - **темы заранее неизвестны** — выявить темы канала и дать навигацию «всё по выбранной теме».
- Преобразование сообщений и комментариев в структурированные «единицы знания» и их упорядочивание вокруг тем.
- Каждая тема оформляется как человекочитаемая **карточка темы** с названием/кратким описанием/границами и ссылками на первоисточники; тема может быть как **«темой‑статьёй»** (один подробный материал), так и **«темой‑кластером»** (несколько материалов).
- Предоставление доступа к полученным наборам данных для поиска, аналитики и обработки (включая ИИ‑агентов).

- Создание базы знаний по источникам, предоставленным заказчиком.
- В перспективе — расширение на источники вне Telegram (как отдельное направление развития).

## 5. Границы продукта (что входит / не входит)

Входит:
- сбор и актуализация контента из Telegram‑каналов;
- обработка и структурирование контента в базу знаний;
- предоставление доступа к результатам для внешних потребителей (люди/сервисы/ИИ‑агенты).

Не является целью (на текущем этапе):
- построение конечного пользовательского продукта‑витрины (портала/приложения) «для всех»;
- гарантирование «идеальной» точности извлечения знаний — качество повышается итеративно;
- поддержка всех возможных внешних источников «из коробки» (это roadmap).

## 6. Метрики успеха (предметно измеримые)

- **Time‑to‑Knowledge**: время от появления сообщения в канале до появления в “knowledge”‑результате. В MVP это означает “до появления в экспортируемых артефактах” (например `kb_entries.ndjson`).
- **Покрытие источников**: количество подключённых каналов и доля обработанных сообщений/комментариев.
- **Полнота структурирования**: доля обработанных элементов, для которых сформированы структурированные документы и ключевые атрибуты (источник/время/тема/ссылка на первоисточник).
- **Покрытие тем**: доля контента, включённого в темы, с разрезом на **тема‑статьи (singleton)**, **тема‑кластеры** и контент **вне тем**.
- **Снижение шума**: доля контента, помеченного как реклама/нерелевантное, и влияние фильтрации на качество выдачи (по оценке пользователей/экспертов).
- **Полезность базы знаний**: доля релевантных документов в результатах типовых запросов (например, Precision@K / success‑rate) по оценке пользователей/экспертов.

## 7. Связанные документы

- Бизнес‑требования: `docs/business-requirements.md`
- Техническая архитектура и пайплайн: `docs/architecture.md`, `docs/pipeline.md`
